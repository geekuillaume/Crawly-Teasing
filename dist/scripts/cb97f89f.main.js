$(document).ready(function(){$("body").removeClass("no-js"),$('a[href="#"]').on("click",function(a){a.preventDefault()}),$("input[placeholder], textarea[placeholder]").placeholder(),$(function(){$(".tabs").delegate("li:not(.active)","click",function(){$(this).addClass("active").siblings().removeClass("active").parents(".tab").find(".box").hide().eq($(this).index()).fadeIn(250)})}),($(".tab").has(".tab-prev").length||$(".tab").has(".tab-next").length)&&$(".tab-prev, .tab-next").click(function(){var a=$(this).parents(".tab").find(".tabs .active");return $next=$(this).hasClass("tab-prev")?a.prev():a.next(),$next.length||($next=$(this).parents(".tab").find($(this).hasClass("tab-prev")?".tabs li:last":".tabs li:first")),$next.click(),!1}),function(){function a(){m=window.innerHeight,r={x:l/2,y:m/2},n=document.getElementById("large-header"),n.style.height=m+"px",l=n.offsetWidth,o=document.getElementById("pointsVisu"),o.width=l,o.height=m,p=o.getContext("2d"),q=[];for(var a=0;l>a;a+=l/20)for(var b=0;m>b;b+=m/20){var c=a+Math.random()*l/20,d=b+Math.random()*m/20,e={x:c,originX:c,y:d,originY:d};q.push(e)}for(var f=0;f<q.length;f++){for(var g=[],h=q[f],i=0;i<q.length;i++){var s=q[i];if(h!=s){for(var t=!1,u=0;5>u;u++)t||void 0==g[u]&&(g[u]=s,t=!0);for(var u=0;5>u;u++)t||k(h,s)<k(h,g[u])&&(g[u]=s,t=!0)}}h.closest=g}for(var f in q){var v=new j(q[f],2+2*Math.random(),"rgba(255,255,255,0.3)");q[f].circle=v}}function b(){"ontouchstart"in window||window.addEventListener("mousemove",c),window.addEventListener("scroll",d),window.addEventListener("resize",e)}function c(a){var b=posy=0;a.pageX||a.pageY?(b=a.pageX,posy=a.pageY):(a.clientX||a.clientY)&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,posy=a.clientY+document.body.scrollTop+document.documentElement.scrollTop),r.x=b,r.y=posy}function d(){s=document.body.scrollTop>m?!1:!0}function e(){l=window.innerWidth,m=window.innerHeight,n.style.height=m+"px",o.width=l,o.height=m}function f(){g();for(var a in q)h(q[a])}function g(){if(s){p.clearRect(0,0,l,m);for(var a in q)Math.abs(k(r,q[a]))<4e3?(q[a].active=.3,q[a].circle.active=.6):Math.abs(k(r,q[a]))<2e4?(q[a].active=.1,q[a].circle.active=.3):Math.abs(k(r,q[a]))<4e4?(q[a].active=.02,q[a].circle.active=.1):(q[a].active=0,q[a].circle.active=0),i(q[a]),q[a].circle.draw()}requestAnimationFrame(g)}function h(a){TweenLite.to(a,1+1*Math.random(),{x:a.originX-50+100*Math.random(),y:a.originY-50+100*Math.random(),ease:Circ.easeInOut,onComplete:function(){h(a)}})}function i(a){if(a.active)for(var b in a.closest)p.beginPath(),p.moveTo(a.x,a.y),p.lineTo(a.closest[b].x,a.closest[b].y),p.strokeStyle="rgba(156,217,249,"+a.active+")",p.stroke()}function j(a,b,c){var d=this;!function(){d.pos=a||null,d.radius=b||null,d.color=c||null}(),this.draw=function(){d.active&&(p.beginPath(),p.arc(d.pos.x,d.pos.y,d.radius,0,2*Math.PI,!1),p.fillStyle="rgba(156,217,249,"+d.active+")",p.fill())}}function k(a,b){return Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)}var l,m,n,o,p,q,r,s=!0;a(),f(),b()}()}),function(){function a(){l+=k,requestAnimationFrame(a),group.rotation.y=l,s.render(q,r)}function b(a){a.center=new e.Vector3((a.vertices[0].x+a.vertices[1].x+a.vertices[2].x)/3,(a.vertices[0].y+a.vertices[1].y+a.vertices[2].y)/3,(a.vertices[0].z+a.vertices[1].z+a.vertices[2].z)/3)}function c(a,b){a.applyMatrix((new THREE.Matrix4).makeTranslation(a.center.x*b,a.center.y*b,a.center.z*b))}function d(){g=window.innerWidth/3,h=window.innerHeight,s.setSize(g,h),r.aspect=g/h,r.updateProjectionMatrix()}var e=THREE,f=document.getElementById("globe");if(!Detector.webgl)return void Detector.addGetWebGLMessage(f);var g=window.innerWidth/3,h=window.innerHeight,i=.3,j=.95,k=.002,l=0,m=700,n={x:-150,y:0},o=1,p=13684944,q=new e.Scene,r=new e.PerspectiveCamera(45,g/h,.01,1e4);r.position.z=m;var s=new e.WebGLRenderer({alpha:!0,antialias:!0});s.setSize(g,h),q.add(new e.AmbientLight(10658466));var t=new e.PointLight(10526880);t.position.set(600,500,600),q.add(t);var u=[],v=new e.IcosahedronGeometry(200,0);group=new THREE.Object3D;for(var w=0;w<v.faces.length;w++){var x=v.faces[w],y=new e.Geometry;y.vertices.push(v.vertices[x.a].clone()),y.vertices.push(v.vertices[x.b].clone()),y.vertices.push(v.vertices[x.c].clone()),y.faces.push(new THREE.Face3(0,1,2,x.normal.clone())),b(y),y.vertices.push(v.vertices[x.a].clone().multiplyScalar(j)),y.vertices.push(v.vertices[x.b].clone().multiplyScalar(j)),y.vertices.push(v.vertices[x.c].clone().multiplyScalar(j)),y.faces.push(new THREE.Face3(5,4,3,x.normal.clone())),y.faces.push(new THREE.Face3(0,3,4)),y.faces.push(new THREE.Face3(4,1,0)),y.faces.push(new THREE.Face3(5,2,1)),y.faces.push(new THREE.Face3(1,4,5)),y.faces.push(new THREE.Face3(3,0,2)),y.faces.push(new THREE.Face3(5,3,2)),y.computeFaceNormals(),y.computeVertexNormals(),c(y,i);var z=new THREE.Mesh(y,new THREE.MeshLambertMaterial({ambient:10526880,color:p,specular:0,shininess:30,shading:e.NoShading,opacity:o}));group.add(z),u.push(z)}var A=new e.Mesh(new e.IcosahedronGeometry(250,2),new e.MeshLambertMaterial({wireframe:!0,color:0,shininess:0,specular:0,ambient:8421504,opacity:.5}));group.add(A),group.position.x=n.x,group.position.y=n.y,q.add(group),f.appendChild(s.domElement);new e.TrackballControls(r,s.domElement);a(),window.addEventListener("resize",d)}();